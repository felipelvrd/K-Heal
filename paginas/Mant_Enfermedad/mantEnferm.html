<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Mantenimiento de Enfermedades</title>

<link rel="stylesheet" type="text/css" href="../../css/PumbleTrap.css">
<link rel="stylesheet" type="text/css" href="../../css/KHeal.css">

<script src="../../javascript/jquery-2.1.1.min.js"></script>

<link rel="stylesheet" type="text/css" href="../../css/dropzone.css">
<script src="../../javascript/dropzone.js"></script>

<script src="../Componentes/enriquecedor/jquery-te-1.4.0.min.js"> </script>

<script src="../Componentes/Mensaje/mensaje.js"></script>
<link href="../Componentes/Mensaje/mensaje.css" rel="stylesheet" type="text/css">


<script src="jquery.dataTables.js"></script>
<script src="dataTables.responsive.js"></script>
<link rel="stylesheet" type="text/css" href="jquery.dataTables.css">





<link rel="stylesheet" type="text/css" href="../Componentes/enriquecedor/jquery-te-1.4.0.css">

<script>

var table;

$(document).ready(function() {
   
  $("#btnAgregarEnfer").click(function() { return false; });
  $("#btnModificarEnfer").click(function() { return false; });
  $("#btnEliminarEnfer").click(function() { return false; });
   
   
   Accion = {"accion":2};
   
    table = $('#example').DataTable ({
		serverSide:true,
		ajax: {
				url: '../../php/enfermedades.php',
				type: 'POST',
				data: Accion 
          },
		
		columns: [
			{ data: 'ID' }
	      ],

		ordering: false,
		language: {
					"lengthMenu": "Mostrando _MENU_ registros",
					"zeroRecords": "No se encontraron resultados",
					"info": "Mostrando pagina  _PAGE_ de _PAGES_",
					"infoEmpty": "Dato no disponible",
					"infoFiltered": "(filtered from _MAX_ total records)",
					"loadingRecords": "Cargando..",
					"processing":     "Procesando...",
					"search":         "Buscar:",
					paginate: {
					"first":      "Primero",
					"last":       "Ultimo",
					"next":       "Siguiente",
					"previous":   "Anterior"
                     }
		  
                   },
	     responsive:true
      });
	  
	  
	 $('#example tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );
 
	$.fn.dataTable.ext.errMode = 'throw';
}); 

function Modificar_Enfermedad()
{
  var data=table.row('.selected').data();
  alert(data.ID);
}


function Agregar_Enfermedad()
{        
   if($('#jqte-Descripcion').val()!=""&&
      $('#jqte-Diagnostico').val()!=""&&
	     $('#jqte-Sintomas').val()!=""&&
	   $('#jqte-Prevencion').val()!=""&&
	   $('#jqte-Referencias').val()!=""&&
	       $('#txtNombEnfer').val()!=""&&
	       $("#txtEtiquetas").val()!=""&&
	  $("#txtTipoEnfermedad").val()!="");
	   else
	   {
		   msgMostrar("Faltan campos por rellenar",3);
		   return;
	   }
	   
	   



	var json = {"descripcion":$('#jqte-Descripcion').val(),
	            "diagnostico":$('#jqte-Diagnostico').val(),
				"sintomas":$('#jqte-Sintomas').val(),
				"prevencion":$('#jqte-Prevencion').val(),
				"referencias":$('#jqte-Referencias').val(),
				"nombre":$('#txtNombEnfer').val(),
				"tipoenfermedad":$("#txtTipoEnfermedad").val(),
				"etiquetas":$("#txtEtiquetas").val(),
				"estado":$("#cbEstaEnfer").val(),
				"accion":0       
			   }
			   
			   
	$.ajax({url:"../../php/enfermedades.php",
	        data:json,
			type:"POST",
			dataType:"text",
			success: function(response)
			{
				 msgMostrar(response,2);
			},
			error: function(response){alert(response)}
	       	
	      });
			   
   // alert($('#jqte-Descripcion').val());
}


</script>

</head>

<body>
	<div class="clContenedor">
    	<div class="clRow"   >
		<h1 class="clTexto-cen">MANTENIMIENTO ENFERMEDADES</h1>								
		</div>
		<div class="clRow">
			<div class="clColum-esc-3 clColum-mov-6">
				
                <div class="clRow">
					<p class="clTexto-cen">    
                       <table id="example" class="display" cellspacing="0" width="100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <!--<th>Nombre</th>
                                <th>TipoEnfermedad</th>
                                <th>Estado</th> -->
                            </tr>
                        </thead>
                    </table>
					</p>
				</div>
                
             <form>
                <div class="clRow">
                  
                    <div class="clColum-esc-1 clColum-mov-2"   >
                     <button type="submit"  id="btnAgregarEnfer" onClick="Agregar_Enfermedad()">Agregar</button>
                    </div>
                   
                    <div class="clColum-esc-1 clColum-mov-2"   >
                     <button  type="submit" id="btnModificarEnfer" onClick="Modificar_Enfermedad()">Modificar</button>	
                    </div>
                   
                    <div class="clColum-esc-1 clColum-mov-2"   >
                     <button  type="submit" id="btnEliminarEnfer">Eliminar</button>
                    </div>
                    
                    <div class="clColum-esc-1 clColum-mov-2"   >
                     <button type="button" id="btnCancelarEnfer">Cancelar</button>
                    </div>
               
                </div> 

                
                
			</div>
            
			<div class="clColum-esc-3 clColum-mov-6" >
                  
                   <div style="margin-left:10%">

                    <div class="clRow">
                        <h3>Imagen de Enfermedad</h3> 
                    </div>
                    <div class="clRow"   >
                        <div id="divImagenEnfer">
                            <img id="imgPerfil"  alt="Imagen no disponible" src="" />
                            <h5> <a href="#">Cambiar Imagen</a></h5>              	 
                        </div>
                    </div>
                  
                    <div class="clRow"   >
                        <div class="clColum-esc-3 clColum-mov-6"   >
                            <div  id="divEnfeNombre" class="form-control">							
                                <label>Nombre</label> 
                                <input type="text"  id="txtNombEnfer" required/>                            
                            </div>   
                        </div>
                        <div class="clColum-esc-3 clColum-mov-6"   >  
                            <div  id="divEnfeFamilia" class="form-control">
                                <label>TipoEnfermedad</label>
                                <input type="text"  id="txtTipoEnfermedad" required/>
                            </div>
                        </div>
                    </div>
                    <div class="clRow"   >
                        <div class="clColum-esc-6 clColum-mov-6"   >
                            <div id="divEnfeDescri" class="form-control">
                                <label>Descripcion </label>		
                                <textarea name="textarea" class="jqte-Descripcion" id="jqte-Descripcion"></textarea>	
                                <script>
                                    $('.jqte-Descripcion').jqte();
                                </script>		
                            </div>	
                        </div>
                    </div>
                    <div class="clRow"   >
                        <div class="clColum-esc-6 clColum-mov-6"   >
                            <div id="divEnfeHistoria" class="form-control">
                                <label>Diagnostico </label>		
                                <textarea name="textarea" class="jqte-Diagnostico" id="jqte-Diagnostico"></textarea>	
                                <script>
                                    $('.jqte-Diagnostico').jqte();
                                </script>
                            </div>
                        </div>
                        <div class="clColum-esc-6 clColum-mov-6"   >
                            <div id="divEnfeSintoma" class="form-control">
                                 <label>Sintomas</label>		
                                <textarea name="textarea" class="jqte-Sintomas" id="jqte-Sintomas"></textarea>	
                                <script>
                                    $('.jqte-Sintomas').jqte();
                                </script>
                            </div>	
                        </div>
                    </div>
                    <div class="clRow"   >
                        <div class="clColum-esc-6 clColum-mov-6"   >
                            <div id="divEnfeRelacion" class="form-control">
                            <label>Prevenci√≥n</label>		
                            <textarea name="textarea" class="jqte-Prevencion" id="jqte-Prevencion"></textarea>	
                            <script>
                              $('.jqte-Prevencion').jqte();
                            </script>
                        </div>
                        </div>
                        <div class="clColum-esc-6 clColum-mov-6" >
                            <div id="divEnfeEnlaces" class="form-control">
                                <label>Referencias</label>
                                <textarea name="textarea" class="jqte-Referencias" id="jqte-Referencias"></textarea>	
								<script>
                                  $('.jqte-Referencias').jqte();
                                </script>
                            </div>
                        </div>
                    </div>
                    <div class="clRow" >
                        <div class="clColum-esc-3 clColum-mov-6"   >
                            <div id="divEnfeOtros" class="form-control">
                                <label>Etiquetas de busqueda</label>
                                <textarea id="txtEtiquetas" name="textarea" required></textarea>	
                            </div>
                        </div>
                        
                         <div class="clColum-esc-3 clColum-mov-6"   >
                            <div id="divEnfeEstado" class="form-control">
                                <label>Estado</label>     
                                <SELECT id="cbEstaEnfer" SIZE=1> 
                                    <OPTION  class="form-control" >Activo</OPTION>
                                    <OPTION  class="form-control" >Bloqueado</OPTION>
                                </SELECT> 
                            </div>
                        </div>   
                    </div>
                    
               
                </div>
               
               </form>
                   
			</div>
          
        <div id="dvMensaje">
		<p><b><span id="spMensaje">Mensaje</span></b></p>
		</div>
	</div>
    
    

</body>
</html>
